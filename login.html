<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion - Aéroport du Grand Canal</title>
<link rel="stylesheet" href="C:\Users\Emile GLINCHE\Desktop\site\aeropot\styles.css">
</head>
<body onload="checkAuthButtons()">
    <header>
        <!-- Aucun texte ici, car il est maintenant dans la bannière -->
    </header>
    <div class="banner">
        <div class="banner-text">Aéroport du Grand Canal</div>
    </div>
    <nav>
        <a href="ind.html">Accueil</a>
        <a href="reservation.html">Réservations cargaison</a>
        <a href="reservation-vol.html">Réservations vols</a>
        <a href="horaires.html">Horaires</a>
        <a href="mes-reservations.html">mes réservations</a>
    </nav>

    <div id="auth-buttons" class="auth-buttons"></div>

    <div class="container">
        <h2>Connexion</h2>
        <input type="text" id="username" placeholder="Identifiant">
        <input type="password" id="password" placeholder="Mot de passe">
        <button onclick="login()">Se connecter</button>
        <a href="register.html">S'inscrire</a>
    </div>

    <script>
        function login() {
            let username = document.getElementById("username").value;
            let password = document.getElementById("password").value;
            let users = JSON.parse(localStorage.getItem("users")) || [];

            let user = users.find(u => u.username === username && u.password === password);
            if (user) {
                localStorage.setItem("currentUser", username);
                alert("Connexion réussie !");
                window.location.href = "index.html";
            } else {
                alert("Identifiants incorrects.");
            }
        }

        function checkAuthButtons() {
            let currentUser = localStorage.getItem("currentUser");
            let authButtons = document.getElementById("auth-buttons");
            if (currentUser) {
                authButtons.innerHTML = '<button onclick="logout()">Déconnexion</button>';
            } else {
                authButtons.innerHTML = '<button onclick="window.location.href=\'login.html\'">Connexion</button>' +
                    '<button onclick="window.location.href=\'register.html\'">S\'inscrire</button>';
            }
        }

        function logout() {
            localStorage.removeItem("currentUser");
            alert("Déconnexion réussie");
            window.location.reload();
        }
    </script>
    <a href="login.html" target="_blank" class="play-button">S'inscrir</a>
</body>
</html>
